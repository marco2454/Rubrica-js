<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">

      <!-- Font Awesome -->

      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
            integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

      <!-- Bootstrap CSS -->

      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

      <!-- Css -->
      <link rel="stylesheet" href="/css/myStyle.css">

      <!-- SCRIPTS -->

      <!-- Scripts Bootstrap -->
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
      </script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
      </script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
      </script>

      <script type="text/javascript" src="/js/bootbox.min.js"></script>

      <!-- Script common -->
      <script src="/js/common.js"></script>

      <!-- Script api users -->
      <script src="/js/userApi.js"></script>

      <!-- Script della pagina -->
      <script src="/js/detail.js"></script>

      <title>Scheda Paziente</title>
</head>

<body onload="return getPersonDetail()">
      <nav class="navbar navbar-dark bg-dark" id="nav-title">
            <h1 style="width: 100%" class="text-center" id="h1-title">
                  <a href="/index.html"><i id="home" class="fas fa-clinic-medical" title="Home"
                              style="float: left;"></i></a>
                  Scheda Paziente
                  <i id="icon-edit" class="fas fa-edit" data-toggle="modal" style="float: right;"
                        data-target="#ModalEdit"></i>
            </h1>

      </nav>
      <section id="section-info">
            <table class="table table-striped" id="info">
                  <tbody>
                        <tr>
                              <td class="text-right"><i class="fas fa-signature"></i> Nome</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                        <tr>
                              <td class="text-right"><i class="fas fa-signature"></i> Cognome</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                        <tr>
                              <td class="text-right"><i class="fas fa-signature"></i> Codice Fiscale</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                        <tr>
                              <td class="text-right"><i class="fas fa-phone fa-rotate-90"></i> Telefono</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                        <tr>
                              <td class="text-right"><i class="fas fa-map-marked-alt"></i> Luogo di Nascita</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                        <tr>
                              <td class="text-right"><i class="fas fa-birthday-cake"></i> Data di Nascita</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                        <tr>
                              <td class="text-right"><i class="fas fa-tint"></i> Gruppo Sanguigno</td>
                              <td>
                                    <input class="text-left" type="text" class="form-control" readonly>
                              </td>
                        </tr>
                  </tbody>
            </table>

            <!-- Visite -->

            <nav class="navbar navbar-expand-lg  justify-content-between navbar-light"
                  style="background-color: #e9ecef;">

                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01"
                        aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>

                  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                        <button type="button" class="btn btn-outline-dark" data-toggle="modal"
                              data-target="#ModalVisitForm">
                              <i class="far fa-calendar-plus"></i> Aggiungi
                        </button>
                        <p style="width: 100%" id="storico" class="text-center"><i><i class="far fa-list-alt"></i></i>
                              Visite</p>
                        <form onsubmit="return searchTablePerson(event)" id="form-search"
                              class="form-inline my-2 my-lg-0 mt-1">
                              <input class="form-control mr-sm-2" type="search" placeholder="Filtra data..."
                                    aria-label="Search" onkeyup="searchTablePerson(event)" autocomplete="off">
                        </form>
                  </div>
            </nav>
            <table id="visits-table" class="table table-striped table-bordered table-hover text-center">
                  <thead class="thead-light">
                        <tr>
                              <th scope="col">#</th>
                              <th scope="col">Data</th>
                              <th scope="col">Dettagli</th>
                              <th scope="col">Modifica</th>
                              <th scope="col">Elimina</th>
                        </tr>
                  </thead>
                  <tbody>
                  </tbody>
            </table>


            <!-- Modal Aggiunta Visita -->
            <div id="ModalVisitForm" class="modal fade">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                              <div class="modal-body">
                                    <h2>Nuova Visita</h2>
                                    <hr />
                                    <form role="form" method="POST" action="" onsubmit="return addTableVisit(this,event)">
                                          <div class="form-group">
                                                <label class="control-label">Data</label>
                                                <div>
                                                      <input type="date" class="form-control input-lg" name="date" value="">
                                                </div>
                                          </div>
                                          <div class="form-group">
                                                <label class="control-label">Dettagli</label>
                                                <div>
                                                      <input type="text" class="form-control input-lg" name="details" value="">
                                                </div>
                                          </div>
                                          <div class="form-group">
                                                <div>
                                                      <button type="submit" class="btn btn-success">
                                                            Aggiungi
                                                      </button>
                                                </div>
                                          </div>
                                    </form>
                              </div>
                        </div><!-- /.modal-content -->
                  </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
      </section>

      <!-- Modal Edit Visita -->
      <div id="ModalEditVisita" class="modal fade" onload="displayInfoModal()">
            <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                        <div class="modal-body">
                              <h2>Edit Visita</h2>
                              <hr />
                              <form onsubmit="return savePersonDetail(this,event)" id="form-edit-visita">
                                    <div class="form-group">
                                          <label for="date">Data</label>
                                          <div>
                                                <input type="date" class="form-control mb-2 mr-sm-2" class="edit-modal" name="date">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="detail">Dettagli</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="detail">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <div>
                                                <button type="submit" class="btn btn-success">
                                                      Salva
                                                </button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                  </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

      <!-- Modal Edit -->
      <div id="ModalEdit" class="modal fade" onload="displayInfoModal()">
            <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                        <div class="modal-body">
                              <h2>Edit Paziente</h2>
                              <hr />
                              <form onsubmit="return savePersonDetail(this,event)" id="form-edit">
                                    <div class="form-group">
                                          <label for="name">Nome</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="name" placeholder="Nome">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="inlineFormInputName2">Cognome</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="surname" placeholder="Cognome">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="inlineFormInputName2">Codice Fiscale</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="codice_fiscale" placeholder="Cod.Fisc">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="inlineFormInputName2">Telefono</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="phone" placeholder="Telefono">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="inlineFormInputName2">Luogo di Nascita</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="birth_place" placeholder="Luogo di Nascita">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="inlineFormInputName2">Data di Nascita</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="birth_date" placeholder="Data di Nascita">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <label for="inlineFormInputName2">Gruppo Sanguigno</label>
                                          <div>
                                                <input type="text" class="form-control mb-2 mr-sm-2" class="edit-modal" name="blood" placeholder="Gruppo Sanguigno">
                                          </div>
                                    </div>
                                    <div class="form-group">
                                          <div>
                                                <button type="submit" class="btn btn-success">
                                                      Salva
                                                </button>
                                          </div>
                                    </div>
                              </form>
                        </div>
                  </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
</body>

</html>